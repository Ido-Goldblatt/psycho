generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String     @id @default(cuid())
  email     String     @unique
  name      String?
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt
  userWords UserWord[]
}

model Word {
  id          String     @id @default(cuid())
  english     String
  hebrew      String
  example     String
  category    String
  difficulty  String
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
  userWords   UserWord[]
}

model UserWord {
  id            String   @id @default(cuid())
  userId        String
  wordId        String
  status        String   // 'new' | 'learning' | 'known' | 'skip'
  lastReviewed  DateTime @default(now())
  nextReviewDate DateTime?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  user          User     @relation(fields: [userId], references: [id])
  word          Word     @relation(fields: [wordId], references: [id])

  @@unique([userId, wordId])
} 